
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta http-equiv="CACHE-CONTROL" content="NO-CACHE">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utilties, including EMDK for Android, EMDK for Xamarin, StageNow and Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="About SSM">
    <title>About SSM - TechDocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head-->


<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:66px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                        <p class="navbar-text">
                                            SSM
                                            1.0
                        </p>

                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/ssm/1-0/guide/about">
                                    About
                            </a>
                        </li>
                        <li>
                            <a href="/ssm/1-0/guide/use">
                                    Using SSM
                            </a>
                        </li>
                        <li>
                            <a href="/ssm/1-0/guide/api">
                                    APIs
                            </a>
                        </li>
                        <li>
                            <a href="https://developer.zebra.com/forum/search?keys=&amp;field_zebra_curated_tags_tid%5B%5D=184">
                                    <i class="fa fa-comments-o"></i>
                            </a>
                        </li>
                        <li>
                            <a href="/ssm/1-0/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>About SSM</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="about-ssm" class="anchor"><a class="heading-anchor" href="#about-ssm"><span></span></a>About SSM</h1>
                                    <p>
                                            SSM
                                            1.0
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>

<p><strong>Secure Storage Manager (SSM)</strong> is an application built into Zebra devices running Android 11 (and later) that implements Android Content Provider interface as a mechanism for securely sharing data from an originating app to one or more target apps. The originating app can use SSM to share data with another app, or store data to be consumed by the app itself. </p>

<p>This guide explains how to use SSM to share and retrieve data for consumption by a target app. SSM provides methods to securely create, retrieve, update and delete (CRUD) data. </p>

<p>For more information about Android Content Provider, see the <a href="https://developer.android.com/guide/topics/providers/content-providers">Android Content Provider</a> specification.</p>

<hr>

<h2 id="requirements" class="anchor"><a class="heading-anchor" href="#requirements"><span></span></a>Requirements</h2>

<ul>
<li>Android 11 or higher</li>
</ul>

<hr>

<h2 id="usecases" class="anchor"><a class="heading-anchor" href="#usecases"><span></span></a>Use Cases</h2>

<p>SSM use cases are as follows:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Use case 1:</strong> Share data with other apps - an application is required to share data with another application (e.g. network settings, file URIs etc.)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Use case 2:</strong> Persist data - an application is required to store data to use after an enterprise reset (ER) (e.g. login credentials, application configurations etc.) 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>Use Case 3:</strong> Share data among multi-user instances - instances of an application running in different user profiles are required to share the same data among each instance (e.g. application configurations)</p>

<hr>

<h2 id="usingssm" class="anchor"><a class="heading-anchor" href="#usingssm"><span></span></a>Using SSM</h2>

<p>SSM securely stores data provided by an originating app and delivers data only to an authenticated instance of a specified target app. After acquiring data, the target app gains ownership of the data. SSM ensures that data is delivered to the target app only after the authenticity of the app accessing the data is verified with its package name and signature. </p>

<p>Data items are structured as name/value pairs, and each pair is uniquely identified by the originating app name and data-item name when made available to a target app. Ownership of the data, including the ability to change or delete, starts with the originating app and transitions to the target app once the data is delivered.  </p>

<p>An originating app must instruct SSM to store data either in a persistent or non-persistent manner. Persistent data stored under SSM remains available after an Enterprise Reset is performed; a Factory Reset erases all device data. </p>

<p>To encrypt data from the originating app prior to storing the data in SSM, use the Data Encryption Tool. See SSM-Encryption.docx.</p>

<h3 id="configureanapptousessm" class="anchor"><a class="heading-anchor" href="#configureanapptousessm"><span></span></a>Configure an app to use SSM</h3>

<p>Insert the appropriate line(s) in the client-app’s manifest: </p>

<p><strong>Insert / update / delete data:</strong></p>

<pre class="prettyprint"><code>&lt;uses-permission android:name="com.zebra.securestoragemanager.securecontentprovider.PERMISSION.WRITE"/&gt;
</code></pre>

<p><strong>Query data:</strong></p>

<pre class="prettyprint"><code>&lt;uses-permission android:name="com.zebra.securestoragemanager.securecontentprovider.PERMISSION.READ"/&gt;
</code></pre>

<p><strong>Query provider for apps targeting API Level 30 and above:</strong></p>

<pre class="prettyprint"><code>&lt;queries&gt;
&lt;provider android:authorities="com.zebra.securestoragemanager.securecontentprovider"/&gt;
</code></pre>

<p><strong>Retrieve data using SSM</strong> by declaring the content URI of the SSM Content Provider:</p>

<pre class="prettyprint"><code>private String AUTHORITY = "content://com.zebra.securestoragemanager.securecontentprovider/data";
</code></pre>

<p>See <a href="../#samplecode">Sample Code</a> for complete context.</p>

<h3 id="encrypteddatafromclientapps" class="anchor"><a class="heading-anchor" href="#encrypteddatafromclientapps"><span></span></a>Encrypted data from client apps</h3>

<p>If SSM receives encrypted data from an originating app (e.g. with the use of Data Encryption Tool), it decrypts the incoming data and saves it in SSM-encrypted format in the SSM database. The procedure to encrypt data to be stored in SSM is provided below. When the data is retrieved, SSM removes the SSM encryption and delivers the data according to the data output form required by the target app. </p>

<p><strong>To encrypt data, use AES Secret Key:</strong></p>

<ol>
<li><p>Create an AES secret key:
private SecretKey getRandomKey(String algorithmType) {</p>

<pre class="prettyprint"><code>SecureRandom rand = new SecureRandom();
KeyGenerator generator;
try {
    generator = KeyGenerator.getInstance(algorithmType);
    generator.init(128, rand);
    mSecretKey = generator.generateKey();
    Log.d(TAG, "mSecretKey = "+ mSecretKey);
    return mSecretKey;
} catch (NoSuchAlgorithmException e) {
    e.printStackTrace();
}
return null;
</code></pre>

<p>}</p></li>

<li><p>Encrypt data using the secret key created in Step 1.</p></li>

<li><p>Encrypt the secret key using SSM public key (Base64 String):</p>

<p>MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwE1qxpfNZVGq3wfPp3AqSeSpCPi3NUC1
cCBuh5nkPvC3TfYHiozsy3gBYyUoYWIoAYlgypehqLIQfdHTrLpsVbS1BW6mnv76WvYwmaGrGfHz
i50ETA8bFDwkrboG3jcHnvDJPH904BdU5eMrsq1o+BDmTmF/OAm1rJPohb8mukWhjZ+o6OW6iNhO
28IDRb26pKuTu6sckHn8I1I51bl44qaxq55A4wVR4mHEZL0EK/q2hY0Iqcak2dA8w8N0nJrWzbIb
p5FeT/WyGO2pure7UxKEZfE5pkewPfcHSGpR+0sbdCMaw6KrDpC5jusry4PjFw92sS/Huywv6/pv
7WVPmwIDAQAB</p></li>

<li><p>Insert the encrypted secret key and data into the SSM database. Specify the data input and output form to detect the encrypted data:</p>

<p>values.put("data_input_form”, "2"); // plaintext=1, encrypted=2 
values.put("data_output_form", "1"); // plaintext=1, encrypted=2
values.put("data_input_encrypted_key","Encrypted Secret Key");
values.put("data_value", inputData);</p></li>
</ol>

<hr>

<h2 id="contentproviderinterfaceapis" class="anchor"><a class="heading-anchor" href="#contentproviderinterfaceapis"><span></span></a>Content Provider Interface APIs</h2>

<table class="facelift" align="center" style="width:90%" border="1" padding="5px">
  <tbody><tr bgcolor="#dce8ef">
    <th>Method</th>
    <th>Usage</th>
  </tr>

  <tr>
    <td>Uri <b>insert</b>(Uri uri, ContentValues values)</td>
    <td>Add new data. See <a href="https://developer.android.com/reference/android/content/ContentProvider#insert(android.net.Uri,%20android.content.ContentValues)">Android reference.</a></td>
  </tr>

  <tr>
    <td>int <b>update</b>(Uri uri, ContentValues values, String selection, String[] selectionArgs)</td>
    <td>Modify existing data. See <a href="https://developer.android.com/reference/android/content/ContentProvider#update(android.net.Uri,%20android.content.ContentValues,%20java.lang.String,%20java.lang.String[])">Android reference.</a></td>
  </tr>

  <tr>
    <td>Cursor <b>query</b>(Uri uri, String[] projection, String selection, String[] selectionArgs, String sortOrder)</td>
    <td>Return data based on selection criteria. See <a href="https://developer.android.com/reference/android/content/ContentProvider#query(android.net.Uri,%20java.lang.String[],%20java.lang.String,%20java.lang.String[],%20java.lang.String)">Android reference.</a></td>
  </tr>

  <tr>
    <td>int <b>delete</b>(Uri uri, String selection, String[] selectionArgs)</td>
    <td>Delete data. See <a href="https://developer.android.com/reference/android/content/ContentProvider#delete(android.net.Uri,%20java.lang.String,%20java.lang.String[])">Android reference.</a></td>
  </tr>
</tbody></table>

<h3 id="keysforpopulatingthecontentvaluesobject" class="anchor"><a class="heading-anchor" href="#keysforpopulatingthecontentvaluesobject"><span></span></a>Keys for populating the ContentValues object</h3>

<table class="facelift" align="center" style="width:100%" border="1" padding="5px">
  <tbody><tr bgcolor="#dce8ef">
    <th>Key</th>
    <th>Value</th>
    <th>Mandatory/Optional</th>
  </tr>

  <tr>
    <td><b>target_app_package</b></td>
    <td>Package name and signature of the target app in a json array. Multiple target apps and signatures can also be given in a json array. The signature must be provided in Base64 format. To generate the signature of any APK, See[Get the signature of an Android APK](#getthesignatureofanandroidapk).</td>
    <td>Mandatory</td>
  </tr>

  <tr>
    <td><b>data_name</b></td>
    <td>Unique name to identify data.</td>
    <td>Mandatory</td>
  </tr>

   <tr>
    <td><b>data_value</b></td>
    <td>Any data (string or json).</td>
    <td>Mandatory</td>
  </tr>

  <tr>
    <td><b>data_persist_required</b></td>
    <td>ASet whether persistence is required after Enterprise Reset (true/false).</td>
    <td>Mandatory</td>
  </tr>

  <tr>
    <td><b>data_input_form</b></td>
    <td>Set whether data received should be encrypted:<br>
plaintext =1, encrypted=2</td>
    <td>Optional</td>
  </tr>

  <tr>
    <td><b>data_output_form</b></td>
    <td>Set whether data passed to the intended recipient should be encrypted.:<br>
plaintext =1, encrypted=2</td>
    <td>Optional</td>
  </tr>

</tbody></table>

<p>See <a href="#samplecode">Sample Code</a> below.</p>

<p><strong>Notes:</strong></p>

<ul>
<li><strong>Querying persistent data after reboot</strong> could be delayed until the system is completely initialized. </li>

<li><strong>Querying persistent data could be slower than non-persistent data</strong>, since SSM stores persistent data in a device-persistent location.  </li>

<li><strong>Data names (data_name) cannot be duplicated</strong> in the same application when inserting data. If an app tries to insert a duplicate data name, it throws a Duplicate Data Name exception.</li>

<li><strong>Apps can store data only up to 10 KB in a single record.</strong> If any single data record is larger than 10 KB, it must be split and stored as multiple records with unique data names. </li>
</ul>

<h4 id="getthesignatureofanandroidapk" class="anchor"><a class="heading-anchor" href="#getthesignatureofanandroidapk"><span></span></a>Get the signature of an Android APK</h4>

<p>To generate the signature (signing certificate) of any APK:</p>

<ol>
<li><p>Go to the <a href="/sigtools/">Zebra App Signature Tool</a> page. </p></li>

<li><p>Follow instructions for downloading and using the tool. </p></li>

<li><p>Use the command below (adapt as needed)</p>

<p>Java -jar SigTools.jar GetCert -INFORM APK -OUTFORM BASE64 -IN Client.apk -OUTFILE Client.txt</p></li>
</ol>

<p><strong>NOTES:</strong></p>

<ul>
<li>“Client.apk” represents the app for which a signature is obtained.</li>

<li>Signature (as a Base64 format string) is saved as “Client.txt” in the example. </li>

<li>Contents of “Client.txt” can be copied as the target-package app signature.</li>

<li>If a signature must be read from a file, rename “Client.txt” to “packageName.txt” (substitute “packageName” with that of the target app) and place the file in the /assets directory on the device.</li>
</ul>

<hr>

<h2 id="samplecode" class="anchor"><a class="heading-anchor" href="#samplecode"><span></span></a>Sample Code</h2>

<h3 id="sharedatatoasingleappusinginsertorupdatemethod" class="anchor"><a class="heading-anchor" href="#sharedatatoasingleappusinginsertorupdatemethod"><span></span></a>Share data to a single app using Insert() or Update() method</h3>

<p>To share data to a single app, insert the package name and signature of the target app as a json array within the ContentValues object. Then pass this to the Insert() or Update() method.</p>

<pre class="prettyprint"><code>private String TARGET_APP_PACKAGE = "target_app_package";
private String DATA_NAME = "data_name";
private String DATA_VALUE = "data_value";
private String DATA_INPUT_FORM = "data_input_form";
private String DATA_OUTPUT_FORM = "data_output_form";
private String DATA_PERSIST_REQUIRED = "data_persist_required";
private String MULTI_INSTANCE_REQUIRED = "multi_instance_required";

private String AUTHORITY = "content://com.zebra.securestoragemanager.securecontentprovider/data";
Uri cpUri = Uri.parse(AUTHORITY);
ContentValues values = new ContentValues();
// TARGET_APP_PACKAGE gives both package name info and signature info in single entry. This applies to a single target app.
// Dummy string is placed below. Replace BASE64_SIGNATURE with app signature retrieved using SigTool.
values.put(TARGET_APP_PACKAGE,
        "{\"pkgs_sigs\": [{\"pkg\":\"com.ztestapp.clientapplication\",\"sig\":\"BASE64_SIGNATURE\"}]}");

values.put(DATA_NAME, “unique name to identify data in UTF-8 encoded format"); 
values.put(DATA_VALUE, “any string data/json data"); 
values.put(DATA_INPUT_FORM, "1"); //plaintext =1, encrypted=2
values.put(DATA_OUTPUT_FORM, "1"); //plaintext=1, encrypted=2 values.put(DATA_PERSIST_REQUIRED, "false");
values.put(MULTI_INSTANCE_REQUIRED, "false");        
Uri createdRow = getContentResolver().insert(cpUri, values);
// Or to update, use the following code:
// Uri updatedRow = getContentResolver().update(cpUri, values);
</code></pre>

<h3 id="sharedatawithmultipleapps" class="anchor"><a class="heading-anchor" href="#sharedatawithmultipleapps"><span></span></a>Share data with multiple apps</h3>

<p>To share data with multiple apps, use the same sample code above and change the <code>TARGET_APP_PACKAGE</code> content value as shown below:</p>

<pre class="prettyprint"><code>// Code snippet – share data with single app:
values.put(TARGET_APP_PACKAGE, 
"{\"pkgs_sigs\":[{\"pkg\":\"com.ztestapp.clientapplication\",\"sig\":\"24727AB4E6C4A\"}]}");
// Code snippet – share data with multiple apps:
values.put(TARGET_APP_PACKAGE, "{\"pkgs_sigs\":[
        {\"pkg\":\"com.ztestapp.clientapplication\",\"sig\":\"24727AB4E6C4A0BE……27B3C\"},
        {\"pkg\":\"com.ztestapp.clientapplication2\",\"sig\":\"24727AB4E……872B27B3C\"},
        {\"pkg\":\"com.ztestapp.abc\",\"sig\":\"25677AB4E6C……72B27B3C\"}
]}");
</code></pre>

<h3 id="urireturnedfrominsertmethod" class="anchor"><a class="heading-anchor" href="#urireturnedfrominsertmethod"><span></span></a>URI returned from Insert() method</h3>

<p>After using the Insert() method, confirmation is returned in the form of a URI: </p>

<ul>
<li>If the insert is for a single app, the return URI provides the URI of the newly inserted row.</li>

<li>If the insert is for multiple apps, the return URI provides the number of rows updated.</li>
</ul>

<h3 id="query" class="anchor"><a class="heading-anchor" href="#query"><span></span></a>Query</h3>

<p>To retrieve shared data, an app can use the Content Resolver query() method as follows:</p>

<pre class="prettyprint"><code>Uri cpUriQuery = Uri.parse(AUTHORITY + "/[com.ztestapp.clientapplication]");

String selection = "target_app_package = '" + packageName + "'" +"AND "+ "data_persist_required = '" + "false" + "'" +
        "AND "+"multi_instance_required = '"+ "true" + "'";
Cursor cursor = null;
try {
    cursor = getContentResolver().query(cpUriQuery, null, selection, null, null);
} catch (Exception e) {
    Log.d(TAG, "Error: "+ e.getMessage());
}

// Then traverse the cursor object to get the required field values using the standard Android method (not shown). 
</code></pre>

<p><strong>Data limitation (TransactionTooLargeException):</strong> When querying data from persistent storage (i.e <code>data_persist_required = true</code>), large data sets are not supported due to Android parcel size limitations. “TransactionTooLargeException” is encountered if the query result data size is too large.   </p>

<h3 id="delete" class="anchor"><a class="heading-anchor" href="#delete"><span></span></a>Delete</h3>

<p>Once the data is consumed, an app can delete the data if no longer required.</p>

<pre class="prettyprint"><code>Uri cpUriDelete = Uri.parse(AUTHORITY + "/[com.ztestapp.clientapplication]");

String whereClause = "target_app_package = '" + packageName + "'" +"AND "+ "data_persist_required = '" + "false" + "'" +
        "AND "+"multi_instance_required = '"+ "true" + "'";

int rowsDeleted = getContentResolver().delete(cpUriDelete, whereClause , null);
</code></pre>

<hr>

<h2 id="seealso" class="anchor"><a class="heading-anchor" href="#seealso"><span></span></a>See Also</h2>

<ul>
<li><strong><a href="../faq">FAQ</a></strong> | Frequently asked questions about OEMConfig </li>

<li><strong><a href="../mc">OEMConfig Managed Configurations</a></strong> | Descriptions of all configurable functions</li>
</ul><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        ZEBRA and the stylized Zebra head are trademarks of Zebra Technologies Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. ©2020 Zebra Technologies Corp. and/or its affiliates.<br> <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal.html">Legal</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms of Use</a> | <a href="https://www.zebra.com/us/en/about-zebra/company-information/legal/privacy-statement.html">Privacy Policy</a> 
                    </div>
                     <!--
                     <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&gid=3220074&trk=anet_ug_hm&goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div> -->
                 </div>
            </div>
        </footer>
    
    <!--/#footer 
        10/25/18 removed <footer id="footer" class="navbar-fixed-bottom">
    -->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>