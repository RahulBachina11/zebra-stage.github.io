
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utiltiescomp including EMDK for Android, EMDK for Xamarin, StageNow, Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="DOM Injection for Android">
    <title>DOM Injection for Android - Zebra Technologies TechDocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head-->


<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:42px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                        <li class="dropdown">
                          <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"> Enterprise Browser 2.0
                          <span class="caret"></span></button>
                          <ul class="dropdown-menu">
                                <li><a onclick="changeVersion('2-0','1-4','/enterprise-browser/2-0/guide/about')">Enterprise Browser 1.4</a></li>
                          </ul>
                        </li>                    
                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/enterprise-browser/2-0/guide/about">
                                    About
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/guide/gettingstarted/">
                                    Getting Started
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/tutorial/">
                                    Tutorials
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/guide/samples">
                                    Sample Apps
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/guide">
                                    Guides
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/guide/migration">
                                    Migration
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/guide/configreference">
                                    Config.xml
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/api">
                                    APIs
                            </a>
                        </li>
                        <li>
                            <a href="https://www.youtube.com/playlist?list=PLce6-npz5dKcUY98npViY6QbuL3yhAXCx">
                                    <i class="fa fa-youtube-play"></i>
                            </a>
                        </li>
                        <li>
                            <a href="https://developer.zebra.com/community/technologies/enterprisebrowser">
                                    <i class="fa fa-comment"></i>
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/download">
                                    <i class="fa fa-download"></i>
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/2-0/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-3 hidden-sm hidden-xs" id="sidebar">
                    
                    
                    <nav id="toc" data-toggle="toc" data-spy="affix" style="height: 75%; max-width: 225px; overflow-y: auto; ">
                        
                        <ul class="nav">
                            <li><strong>DOM Injection for Android</strong></li>
                        </ul>
                    </nav>
                    <div class="modal fade" id="modal-smartdocs" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
                    	<div class="modal-dialog">
                    		<div class="modal-content">
                    			<div class="modal-header">
                    				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
                    			</div>
                    			<div class="modal-body">
                    				<form>
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">MX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="4.0">4.0</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="5.0">5.0</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">OSX Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="1.0">1.0</option>
                    					  <option value="1.2">1.2</option>
                    					  <option value="1.3.4-56">1.3.4-56</option>
                    					  <option value="3.4">3.4</option>
                    					  <option value="3.5">3.5</option>
                    					  <option value="3.6">3.6</option>
                    					  <option value="4.1">4.1</option>
                    					  <option value="4.2">4.2</option>
                    					  <option value="4.3">4.3</option>
                    					  <option value="4.4">4.4</option>
                    					</select>
                    				  </div>						
                    				  <div class="form-group">
                    				    <label for="exampleInputEmail1">Android Version On Device:</label>
                    				    <select class="form-control">
                    					  <option value="23">6.0 Marshmallow</option>
                    					  <option value="22">5.1 Lollipop</option>
                    					  <option value="21">5.0 Lollipop</option>
                    					  <option value="19">4.4 Kitkat</option>
                    					  <option value="18">4.3 Jellybean</option>
                    					  <option value="17">4.2.x Jellybean</option>
                    					  <option value="16">4.1.x Jellybean</option>
                    					  <option value="15">4.0.3-4.0.4 Ice Cream Sandwich</option>
                    					  <option value="14">4.0-4.0.2 Ice Cream Sandwich</option>
                    					  <option value="10">2.3.3-2.3.4 Gingerbread</option>
                    					</select>
                    				  </div>
                    				  <div class="form-group">
                    				  	<button class="primary" id="btn_SaveSmartDocOptions">Save Changes</button><button class="primary" id="btn_ClearSmartDocOptions">Clear Changes</button>
                    				  </div>
                    				</form>
                    			</div>
                    	</div>
                      </div>
                    </div>
                    
                    <script type="text/javascript">
                        $(document).ready(function() {
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Saving Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        	$( "#btn_SaveSmartDocOptions" ).click(function() {
                      			console.log('Clearing Options');
                      			$("#modal-smartdocs").modal({show: false});
                    		});
                        });
                    </script><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.css">
                    <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v0.3.0/dist/bootstrap-toc.min.js"></script>
                    <script type="text/javascript">
                        $(document).ready(function() {
                    
                        });
                    
                    
                    </script>
                </div>                
                <div class="col-sm-9 ">
                    <div class="row">
                        <div class="col-sm-12">
                            <section id="cta" class="wow fadeIn">
                                <div class="">
                                    <h1 id="dom-injection-for-android" class="anchor"><a class="heading-anchor" href="#dom-injection-for-android"><span></span></a>DOM Injection for Android</h1>
                                    <p>
                                            Enterprise Browser
                                            2.0
                                    </p>
                                </div>
                            </section>                    
                        </div>
                    </div>
                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

                                        <p></p><h2 id="overview" class="anchor"><a class="heading-anchor" href="#overview"><span></span></a>Overview</h2>

<p>Apps made with Enterprise Browser 1.3 and higher are able to perform DOM injection, the ability insert CSS, JavaScript and/or meta tags into the DOM without modifying the underlying application. This permits features, capabilities and even the look of one or more server-based Enterprise Browser app pages to be modified at runtime using DOM elements referenced from in a text file stored on the device. </p>

<p>DOM injection is enabled by default in EB 1.3 and higher apps, and is <strong>activated by the &lt;CustomDOMElements&gt; tag in the &lt;Application&gt; section</strong> of the app's <code>Config.xml</code> file. This tag must contain a fully qualified path to the device-resident "tags" file, which is required for DOM injection. This file defines the DOM element(s) to be injected and the names of the pages to receive injections whenever they're displayed. <strong>Injected CSS and JavaScript can be local, server-based or in combination</strong>. Meta tags must be specified and fully contained within the tags file. No special licensing is required. </p>

<h3 id="whatisthedom" class="anchor"><a class="heading-anchor" href="#whatisthedom"><span></span></a>What is "the DOM"?</h3>

<p>In the context of modern web programming, <strong>the "DOM" refers to HTML5 as it appears when running</strong>. While the code of an HTML5 app might define certain variables, those variables contain no values until the app is executed. Therefore, it's accurate to think of the DOM as an HTML5 app that's in use, and of DOM injection as changes made to a running app that take effect immediately. </p>

<p>The DOM injection tags file (i.e. <code>mytags.txt</code>) follows a syntax similar to that of ordinary HTML tags for including scripts, style sheets and meta data. Parts of the tags as they apply to DOM injection are explained below.</p>

<h3 id="substitution" class="anchor"><a class="heading-anchor" href="#substitution"><span></span></a>Substitution</h3>

<p>Android apps made with <strong>EB 2.0 (and higher) can use <a href="../configreference/#substitutionvariables">substitution variables</a></strong> such as those for the device's "primary directory" (%PRIMARYDIR%) and an app's "install directory" (%INSTALLDIR%) in place of fully qualified (absolute) path names. This can help make coding easier and less error prone while simplifying enterprise deployment across varied devices. <strong>Zebra recommends using substitution variables rather than absolute paths whenever possible</strong>.</p>

<p><strong>EB 2.0 and higher also supports <a href="../pageactions">page-based actions</a></strong>, which can execute JavaScript code and/or predefined commands based on the contents of a page. In some instances, this feature can be used as a substitute for DOM injection with similar effect. </p>

<h4 id="dominjectionissupportedby" class="anchor"><a class="heading-anchor" href="#dominjectionissupportedby"><span></span></a>DOM injection is supported by:</h4>

<ul>
<li><strong>Android apps that use the stock webkit</strong></li>

<li><strong>Windows Mobile/CE apps using the Zebra Webkit</strong></li>

<li><strong>Windows CE apps using the IE engine</strong></li>
</ul>

<p><strong><em>DOM injection is NOT supported on Windows Mobile devices using the IE engine</em></strong>. </p>

<h4 id="supportsinjectionof" class="anchor"><a class="heading-anchor" href="#supportsinjectionof"><span></span></a>Supports injection of:</h4>

<ul>
<li>JavaScript or CSS files stored locally on the device</li>

<li>JavaScript or CSS files stored on a server </li>

<li>Meta tags described in the <code>tags</code> file (stored on the device)</li>

<li>Local files specified using absolute paths or <a href="../configreference/#substitutionvariables">EB substitution variables</a> (i.e. <code>%INSTALLDIR%</code>)</li>

<li>Elements (JavaScript, CSS and/or meta tags) on all navigated pages</li>

<li>Elements on specified pages</li>

<li>Elements on pages that contain a specified string</li>

<li>Elements on pages based on a URL</li>
</ul>

<blockquote>
  <p><strong>Zebra recommends using substitution variables rather than absolute paths whenever possible</strong>.</p>
</blockquote>

<h3 id="requirements" class="anchor"><a class="heading-anchor" href="#requirements"><span></span></a>Requirements</h3>

<p>To use DOM injection, <strong>ALL of the following must be true</strong>:</p>

<ul>
<li>The app being injected was made with Enterprise Browser 1.3 (or higher)</li>

<li>A <code>tags</code> file containing elements to be injected has been created and pushed to the target device</li>

<li>The path to the <code>tags</code> file is specified in the app's <code>Config.xml</code> file (see <a href="#step2updateconfigxml">Step 2</a>)</li>

<li>The target device is running one of the following: 


<ul>
<li>Android with stock webkit </li>

<li>Windows Mobile/CE device with Zebra Webkit</li>

<li>Windows CE with IE engine</li></ul>
</li>
</ul>

<hr>

<h2 id="step1preparethetagsfile" class="anchor"><a class="heading-anchor" href="#step1preparethetagsfile"><span></span></a>Step 1- Prepare the "tags" file</h2>

<p><strong>Create a text file</strong> to contain the desired DOM-injection elements, which are defined using the tagging syntax below. This becomes the list of elements (i.e. JavaScript, CSS and/or meta tags) to be injected into the DOM and specifies the pages to receive the injections. </p>

<h3 id="pagestag" class="anchor"><a class="heading-anchor" href="#pagestag"><span></span></a>'Pages' tag</h3>

<p>The <code>pages</code> tag is used to specify the page(s) into which DOM elements are injected. This tag supports specification of an app's individual HTML pages ("startPage, scanPage" etc.), server-based application pages (specified as individual or relative URLs) and the wildcard character (*), which injects the specified elements into all navigated pages of the app. </p>

<p><strong>Note: The</strong> <code>.html</code> <strong>file extension is assumed. All other file extensions must be specified</strong>.</p>

<h4 id="examples" class="anchor"><a class="heading-anchor" href="#examples"><span></span></a>Examples</h4>

<p>In the examples below, notice a syntax similar to that of ordinary HTML tags for including scripts, style sheets and meta data. Parts of the tags as they apply to DOM injection are explained in further detail below. </p>

<blockquote>
  <p><strong>Zebra recommends using substitution variables rather than absolute paths whenever possible</strong>.</p>
</blockquote>

<h5 id="injectajavascriptfileintoallpagesfrominstalleddirectorysubstitutionvariable" class="anchor"><a class="heading-anchor" href="#injectajavascriptfileintoallpagesfrominstalleddirectorysubstitutionvariable"><span></span></a>Inject a JavaScript file into all pages from "installed" directory (substitution variable):</h5>

<pre class="prettyprint"><code>
&lt;script type='text/javascript' src='file://%INSTALLDIR%/enroll.js' pages='*' /&gt;
</code></pre>

<p><br></p>

<h5 id="injectajavascriptfileintooneserverpageusingrelativereference" class="anchor"><a class="heading-anchor" href="#injectajavascriptfileintooneserverpageusingrelativereference"><span></span></a>Inject a JavaScript file into one server page using relative reference:</h5>

<pre class="prettyprint"><code>
&lt;script type='text/javascript' src='file://%INSTALLDIR%/enroll.js' pages='/mypages/page2.html; /mypages/page5.html' /&gt;
</code></pre>

<p><em>On server-based apps, DOM injection references are relative to the startPage URL. <br>For example, "http://myserver.com/mypages/startPage.html"</em> could be the full URL for the example above. </p>

<p><br></p>

<h5 id="injectajavascriptfileintoallpagesusingabsolutepath" class="anchor"><a class="heading-anchor" href="#injectajavascriptfileintoallpagesusingabsolutepath"><span></span></a>Inject a JavaScript file into all pages using absolute path:</h5>

<pre class="prettyprint"><code>&lt;script type='text/javascript' src='file:///storage/emulated/0/Android/data/com.symbol.enterprisebrowser/mytest.js' pages='*'/&gt;
</code></pre>

<p><br></p>

<h5 id="injectacssfileintoallpagesusingabsolutepath" class="anchor"><a class="heading-anchor" href="#injectacssfileintoallpagesusingabsolutepath"><span></span></a>Inject a CSS file into all pages using absolute path:</h5>

<pre class="prettyprint"><code>&lt;link rel='stylesheet' type='text/css' href='file:///storage/emulated/0/Android/data/com.symbol.enterprisebrowser/mystyle.css'  pages='*' /&gt;
</code></pre>

<p><br></p>

<h5 id="injectacssfileintoallpagesfromtherootdirectorysubstitutionvariable" class="anchor"><a class="heading-anchor" href="#injectacssfileintoallpagesfromtherootdirectorysubstitutionvariable"><span></span></a>Inject a CSS file into all pages from the root directory (substitution variable):</h5>

<pre class="prettyprint"><code>&lt;link rel='stylesheet' type='text/css' href='file://%PRIMARYDIR%/mystyle.css'  pages='*' /&gt;
</code></pre>

<p><br></p>

<h5 id="injectajavascriptfilefromaserverintoallpages" class="anchor"><a class="heading-anchor" href="#injectajavascriptfilefromaserverintoallpages"><span></span></a>Inject a JavaScript file from a server into all pages:</h5>

<pre class="prettyprint"><code>&lt;script type='text/javascript' src='http://myserver.com/test.js' pages='*'/&gt;
</code></pre>

<p><br></p>

<h5 id="injectametatagtorefreshallpagesevery30seconds" class="anchor"><a class="heading-anchor" href="#injectametatagtorefreshallpagesevery30seconds"><span></span></a>Inject a meta tag to refresh all pages every 30 seconds:</h5>

<pre class="prettyprint"><code>&lt;meta http-equiv="refresh" content="30" pages='*' /&gt;
</code></pre>

<p><br></p>

<h5 id="enablethescanneronallpages" class="anchor"><a class="heading-anchor" href="#enablethescanneronallpages"><span></span></a>Enable the scanner on all pages</h5>

<pre class="prettyprint"><code>&lt;meta HTTP-Equiv="scanner" Content="Enable" pages='*'/&gt; 
</code></pre>

<p><br></p>

<hr>

<h3 id="pagecontenttag" class="anchor"><a class="heading-anchor" href="#pagecontenttag"><span></span></a>'Pagecontent' tag</h3>

<p><strong><em>Supported in Enterprise Browser 2.0 (and higher) only</em></strong>. </p>

<p>The <code>pagecontent</code> tag is used for injecting DOM files on navigated pages only when a specific string or HTML element is present on the page. This allows the developer to set specific conditions under which an action is executed, for example to run a log-in script. </p>

<p><strong>Note: The</strong> <code>.html</code> <strong>file extension is assumed. All other file extensions must be specified</strong>.</p>

<h4 id="examples-1" class="anchor"><a class="heading-anchor" href="#examples-1"><span></span></a>Examples</h4>

<h5 id="injectenrolljsfileifpagecontainsthestringenterloginid" class="anchor"><a class="heading-anchor" href="#injectenrolljsfileifpagecontainsthestringenterloginid"><span></span></a>Inject <code>enroll.js</code> file if page contains the string ‘Enter Login ID’:</h5>

<pre class="prettyprint"><code>
&lt;script type='text/javascript' src='file://%INSTALLDIR%/enroll.js' pagecontent='Enter Login ID' pages='*' /&gt;
</code></pre>

<p><br></p>

<h5 id="injectmystylecssfileifpagecontainsthestringenterusername" class="anchor"><a class="heading-anchor" href="#injectmystylecssfileifpagecontainsthestringenterusername"><span></span></a>Inject <code>mystyle.css</code> file if page contains the string Enter User Name:</h5>

<pre class="prettyprint"><code>
&lt;link rel='stylesheet' type='text/css' href='file://%INSTALLDIR%/mystyle.css'  pagecontent='Enter User Name' pages='*' /&gt;
</code></pre>

<p><br></p>

<h5 id="injectpreviousjswhenaspecifichtmlelementispresent" class="anchor"><a class="heading-anchor" href="#injectpreviousjswhenaspecifichtmlelementispresent"><span></span></a>Inject <code>previous.js</code> when a specific HTML element is present:</h5>

<pre class="prettyprint"><code>
&lt;script type='text/javascript' src='file://%INSTALLDIR%/previous.js' pagecontent='&lt;input class="clr-button branded-highlight-bg branded-highlight-item" data-ats-id="Previous-button" name="Previous" onclick="" style="margin-right:5px;" type="button" value="Previous"&gt;' pages='*' /&gt;
</code></pre>

<p><br></p>

<p><strong>Notes</strong>: </p>

<ul>
<li>When specifying lengthy HTML elements, check syntax carefully to avoid errors. </li>

<li>Multi-line values are not supported.</li>
</ul>

<p>Attributes of DOM Injection tags: </p>

<p><strong>Note that the "pages" attribute specifies the file name of the page into which the element defined in the tag is injected</strong>. </p>

<p><strong>The following rules apply</strong>: </p>

<ul>
<li><u><strong>All tags in the</strong> <code>tags</code> <strong>file <em>must</em> contain the injection-specific "pages" attribute</strong></u>.</li>

<li>The <code>.html</code> file extension is assumed; specify the extension only if different.</li>

<li><strong>For local files</strong>, actions work from the directory relative to the installation root; include qualified path or substitution variable (<strong>recommended</strong>) only if different. </li>

<li><strong>For server-based CSS or JavaScript files</strong>, actions work relative to the app's start page; include full URL if different.</li>

<li><strong>Wildcard (*) characters are accepted</strong> to inject all files in a relative or specified directory.</li>

<li><strong>URLs are supported for server-based CSS and JavaScript files only</strong>.</li>

<li>All meta tag data must be contained completely within the <code>tags</code> file.</li>

<li><strong>If using server-based JavaScript</strong>, see JavaScript injection section (below) for dependency cautions.</li>

<li><strong>An optional pagecontent attribute can be used</strong> to add a page-specific string for triggering injection (EB 2.0 and higher only).</li>

<li>Attribute values must not be left blank.</li>

<li>All tags must have beginning (&lt;) and ending (/&gt;) angle brackets.</li>

<li>Each tag in the <code>tags</code> file must be on a separate line.</li>

<li>Local pages support only the <code>pages='*’</code> syntax. To inject tags into a specific local page, use <code>pages='*'</code> in combination with the <code>pagecontent</code> attribute.</li>
</ul>

<h5 id="whenalltagsarecompletedstorethetagsfileonthedeviceandtakenoteofthefilenameandpath" class="anchor"><a class="heading-anchor" href="#whenalltagsarecompletedstorethetagsfileonthedeviceandtakenoteofthefilenameandpath"><span></span></a>When all tags are completed, store the tags file on the device and take note of the file name and path.</h5>

<hr>

<h3 id="step2updateconfigxml" class="anchor"><a class="heading-anchor" href="#step2updateconfigxml"><span></span></a>Step 2- Update Config.xml</h3>

<p>The <code>tags</code> file created in Step 1 must reside on the device. </p>

<ul>
<li><p><strong>Specify the path to the tags file</strong> by adding a line (similar to the one below) in the <code>&lt;Application&gt;</code> section in the app's <code>Config.xml</code> file:  </p>

<pre class="prettyprint"><code>
&lt;Application&gt;
...
    &lt;CustomDOMElements value="file://%INSTALLDIR%\rho\apps\app\mytags.txt"/&gt;
...
&lt;/Application&gt;
</code></pre></li>
</ul>

<p>For information about how to configure the <code>Config.xml</code> file, see the <a href="../configreference">Config.xml Reference Guide</a>. <strong>Note</strong>: The &lt;CustomDOMElements&gt; tag cannot be configured using the <a href="../OndeviceConfig">On-device Config Editor utility</a>.  </p>

<blockquote>
  <p><strong>The value inside the &lt;CustomDOMElements&gt; tag is empty by default. DOM injection cannot function unless a path to the <code>tags</code> file on the device is specified</strong>. </p>
</blockquote>

<hr>

<h2 id="javascriptinjection" class="anchor"><a class="heading-anchor" href="#javascriptinjection"><span></span></a>JavaScript Injection</h2>

<p>JavaScript can be injected either through file protocol or by using an absolute path, <a href="../configreference/#substitutionvariables">substitution variable</a>, or server path relative to the EB app's start page. <strong>Different rules apply to injection of local and server-based JavaScript, and might affect the app if dependencies exist between the JavaScript modules in use</strong>. </p>

<h4 id="injectlocaljavascript" class="anchor"><a class="heading-anchor" href="#injectlocaljavascript"><span></span></a>Inject Local JavaScript</h4>

<p>When using the file protocol, the JavaScript file(s) must be resident on the target device and have path(s) specified in the <code>src</code> attribute of the script tag using the <code>file://</code> designation. For example, the following lines inject four JavaScript files into all pages of the app-relative directory:</p>

<pre class="prettyprint"><code>
&lt;script type='text/javascript' src='file:///storage/emulated/0/Android/data/com.symbol.enterprisebrowser/mytest.js' pages='*'/&gt;

&lt;script type="text/javascript" src=" http://192.168.19.2:9090/scripts/test.js" pages="/dominjection/index.html" /&gt;
</code></pre>

<p><strong>Notes</strong></p>

<ul>
<li>Local JavaScript files are injected consecutively in the order in which they are listed in the tags file.</li>

<li>Each JavaScript file is loaded completely before the next file begins to load. </li>

<li>DOM injections occur every time a page is loaded, <strong>so changes to JavaScript files injected in this way can be put into effect simply by refreshing the relevant page</strong>.</li>
</ul>

<h4 id="injectserverbasedjavascript" class="anchor"><a class="heading-anchor" href="#injectserverbasedjavascript"><span></span></a>Inject Server-based JavaScript</h4>

<ul>
<li><p>Here, the same four JavaScript files are injected from a server: </p>

<pre class="prettyprint"><code>
&lt;script type='text/javascript' src='http:\\192.168.1.1:8081\elements.js' pages='*' /&gt; 
&lt;script type='text/javascript' src='http:\\192.168.1.1:8081\jquery.js' pages='*' /&gt; 
&lt;script type='text/javascript' src='http:\\192.168.1.1:8081\jquery-1.11.3.js' pages='*' /&gt;
&lt;script type='text/javascript' src='http:\\192.168.1.1:8081\test.js' pages='*' /&gt;  
</code></pre></li>
</ul>

<p>With server-based injection, Enterprise Browser commands the engine to inject JavaScript to the DOM asynchronously, which (for example) might cause <code>jquery.js</code> to be loaded before <code>element.js</code>. Therefore, <strong>if JavaScript files are interdependent, additional steps might be required to avoid failure due to a dependency issue</strong> (see below). </p>

<p>In another example, the tags file below is used to inject the <code>rhoapi-modules.js</code> and <code>test.js</code> files into the page <code>/dominjection/index.html</code>. </p>

<pre class="prettyprint"><code>    
    &lt;script type="text/javascript" src="http://192.168.19.2:9090/scripts/rhoapi-modules.js" pages="/dominjection/index.html" /&gt;

    &lt;script type="text/javascript" src="./test.js" pages="/dominjection/index.html" /&gt;
</code></pre>

<p>If an attribute contained in the rhoapi-modules file--for example the Rho namespace--is required by <code>test.js</code>, an error might occur if <code>test.js</code> is injected first. To guard against this, it might be useful for <code>test.js</code> to include some logic (like the JavaScript below) so that it waits until its dependent JavaScript (<code>rhoapi-modules.js</code>) is loaded.</p>

<p>Sample JavaScript to delay loading: </p>

<pre class="prettyprint"><code>    
    (function() {

    // Poll for jQuery to come into existence
    var checkReady = function(callback) {
        if (window.EB) {
            callback(EB);
        }
        else {
            window.setTimeout(function() { checkReady(callback); }, 100); //check here
        }
    };
    // Start polling...
    checkReady(function(EB) {
      alert(EB.Application.appName); //use EB api here
    });
})();
</code></pre>

<h2 id="sampletagsfile" class="anchor"><a class="heading-anchor" href="#sampletagsfile"><span></span></a>Sample Tags File</h2>

<p>In the sample <code>mytags.txt</code> file referenced below, notice a syntax similar to that of ordinary HTML tags for including scripts, style sheets and meta data. Parts of the tags as they apply to DOM injection are explained in the JavaScript comments and in further detail below. </p>

<pre class="prettyprint"><code>
&lt;!--Sample tags file --&gt;
&lt;!--FILENAME: 'mytags.txt' --&gt;
&lt;!--DESC: 'tags' file for DOM Injection --&gt;

&lt;!--JavaScript section--&gt;

&lt;!--inject mytest.js into pages p1 and p2 only--&gt;
&lt;script type='text/javascript' src='./mytest.js' pages='p1;p2'/&gt;

&lt;!--inject mytest.js into all pages--&gt;
&lt;script type='text/javascript' src='./mytest.js' pages='*'/&gt;

&lt;!--inject a server-based JavaScript (into all pages)--&gt;
&lt;script type='text/javascript' src='http://192.168.10.1:8081/test.js' pages='*'/&gt;

&lt;!--inject a local JavaScript file (into p1 into p2)--&gt;
&lt;script type='text/javascript' src='file://\programfiles\enterprisebrowser\rho\apps\app\test.js' pages='p1;p2'/&gt;

&lt;!--MetaTags section--&gt;

&lt;!--refresh pages p1 and p2 every 30 seconds--&gt;
&lt;meta http-equiv="refresh" content="30" pages='p1;p2'/&gt; 

&lt;!--refresh all pages every 30 seconds--&gt;
&lt;meta http-equiv="refresh" content="30" pages='*'/&gt;

&lt;!--enable the scanner on all pages--&gt;
&lt;meta HTTP-Equiv="scanner" Content="Enable" pages='*'/&gt; 

&lt;!--StyleSheets section--&gt;

&lt;link rel="stylesheet" type="text/css" href="mystyle.css" pages='p1;p2'/&gt;
&lt;link rel="stylesheet" type="text/css" href="mystyle.css" pages='*'/&gt;
&lt;!--link rel="stylesheet" type="text/css" href="mystyle.css" pages='*'--&gt;   
&lt;link rel="stylesheet" type="text/css" href="file://\programfiles\enterprisebrowser\rho\apps\app\mystyle.css" pages='p1;p2'&gt;
</code></pre><p></p>
                                        


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    

<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div> </div>
         <footer id="footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10">
                        © 2015 ZIH Corp and/or its affiliates. All rights reserved. Zebra and the stylized Zebra head are trademarks of ZIH Corp., registered in many jurisdictions worldwide. All other trademarks are the property of their respective owners. <a href="https://www.zebra.com/us/en/about-zebra/company-information/compliance/information-privacy/terms-of-use.html">Terms &amp; Conditions</a>
                    </div>
                     <!--
                     <div class="col-sm-2">
                        <ul class="social-icons">
                            <li><a href="http://www.facebook.com/pages/Zebra-Technologies/107703715989073"><i class="fa fa-facebook"></i></a></li>
                            <li><a href="https://twitter.com/ZebraDevs"><i class="fa fa-twitter"></i></a></li>
                            <li><a href="http://www.youtube.com/zebratechnologies/"><i class="fa fa-youtube"></i></a></li>
                            <li><a href="https://www.linkedin.com/groups?home=&gid=3220074&trk=anet_ug_hm&goback=%2Egmr_3220074"><i class="fa fa-linkedin"></i></a></li>
                            <li><a href="https://github.com/developer-zebra"><i class="fa fa-github"></i></a></li>
                        </ul>
                    </div> -->
                 </div>
            </div>
        </footer>
    
    <!--/#footer 
        10/25/18 removed <footer id="footer" class="navbar-fixed-bottom">
    -->
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    <script src="/js/mousescroll.js"></script>
    <script src="/js/smoothscroll.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/jquery.isotope.min.js"></script>
    <script src="/js/jquery.inview.min.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/bootstrap-treenav.min.js"></script>
    <script src="/js/prettify.js"></script>
    <script src="/js/zepto.js"></script>
    <script src="/js/jquery.waterfall.js"></script>   
    <script src="/js/main.js"></script>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','zRzEsAUhWTTkrdEN2YfA','2.0.0');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72584442-1', 'auto');
  ga('send', 'pageview');

</script> 

<script>
    ChatraID = 'QDvZ76min4DhLW5vJ';
    (function(d, w, c) {
        var n = d.getElementsByTagName('script')[0],
            s = d.createElement('script');
        w[c] = w[c] || function() {
            (w[c].q = w[c].q || []).push(arguments);
        };
        s.async = true;
        s.src = (d.location.protocol === 'https:' ? 'https:': 'http:')
            + '//call.chatra.io/chatra.js';
        n.parentNode.insertBefore(s, n);
    })(document, window, 'Chatra');
</script>         


</body></html>